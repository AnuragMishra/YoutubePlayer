!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("YoutubePlayer requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t,e,n){this.id=t,this.videoId=e,this.handlers={},this.ref=null,this.width="425",this.height="356",this.flashVersion="8",this.params={allowScriptAccess:"always"},this.attrs={id:this.id};var s=function(t,e){for(var i in t)e[i]=t[i]};n&&(n.params&&s(n.params,this.params),n.attrs&&s(n.attrs,this.attrs),n.width&&(this.width=n.width),n.height&&(this.height=n.height),n.flashVersion&&(this.flashVersion=n.flashVersion)),this.embed(),i.register(this)}var n="undefined";return i.prototype.embed=function(){var t="http://www.youtube.com/v/{videoId}?enablejsapi=1&playerapiid={playerId}&version=3";if(t=t.replace("{videoId}",this.videoId),t=t.replace("{playerId}",this.id),!swfobject)throw new ReferenceError("YoutubePlayer depends on the SWFObject library but it is missing.");var e=this;swfobject.embedSWF(t,this.id,this.width,this.height,this.flashVersion,null,null,this.params,this.attrs,function(t){e.ref=t.ref})},i.prototype.on=function(t,e){this.handlers[t]=this.handlers[t]||[],this.handlers[t].push(e)},i.prototype.onReady=function(){var t=document.getElementById(this.id),e='YoutubePlayer.dispatchEvent("{id}")',i=e.replace("{id}",this.id);t.addEventListener("onStateChange",i)},i.prototype.notifyEvent=function(t){var e=i.STATES;for(var n in e)e[n]==t&&this.fireEvent(n)},i.prototype.fireEvent=function(t){var e=this.handlers[t];if(e)for(var i=0;i<e.length;i++)e[i](t)},i.instances=[],i.register=function(t){this.instances.push(t)},i.findById=function(t){for(var e=null,i=0;i<this.instances.length;i++)this.instances[i].id==t&&(e=this.instances[i]);return e},i.dispatchEvent=function(t){var e=i.findById(t);return function(t){e.notifyEvent(t)}},i.STATES={unstarted:-1,ended:0,playing:1,paused:2,buffering:3,cued:5},t.YoutubePlayer=i,t.onYouTubePlayerReady=function(t){i.findById(t).onReady()},typeof e===n&&(t.YoutubePlayer=i),i});
