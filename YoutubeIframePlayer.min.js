!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("YoutubeIframePlayer requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(t,s){if(this.defaults={playerVars:{autohide:1,showinfo:0,rel:0,enablejsapi:1,modestbranding:1,html5:1},videoId:"",width:"100%",height:"100%"},this.id=t,this.listeners={},this.video=null,this.options=s||this.defaults,this.options.events=this.options.events||{},n.register(this),e.YT||n.onIframeAPIReady)n.onIframeAPIReady(this.id,!0);else{n.onIframeAPIReady=e.onYouTubeIframeAPIReady,e.onYouTubeIframeAPIReady=i(e.onYouTubeIframeAPIReady,this,this.id);var o=document.createElement("script");o.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r)}}function i(e){var t=Array.prototype.slice.call(arguments,1),n=t.shift();return function(){return e.apply(n,t.concat(Array.prototype.slice.call(arguments)))}}var s="undefined";return n.prototype.embed=function(){return e.YT?(this.options.events.onReady=n.dispatchEvent(this.id),this.options.events.onStateChange=n.dispatchEvent(this.id),new YT.Player(this.id,this.options)):void 0},n.prototype.on=function(e,t){e=e.split(",");for(var n=0;n<e.length;n++)this.listeners[e[n]]=this.listeners[e[n]]||[],this.listeners[e[n]].push(t)},n.prototype.off=function(e){e=e.split(",");for(var t=0;t<e.length;t++)this.listeners[e[t]].pop()},n.prototype.notifyEvent=function(e,t){var i=n.STATES;for(var s in i)i[s]==e&&this.fireEvent(s,t)},n.prototype.fireEvent=function(e,t){var n=this.listeners[e];if(n)for(var i=0;i<n.length;i++)n[i](e,t)},n.instances=[],n.register=function(e){this.instances.push(e)},n.destroy=function(e){for(var t=null,n=0;n<this.instances.length;n++)this.instances[n].id==e&&(t=this.instances[n],t.video&&t.video.destroy(),instances.splice(n,1))},n.findById=function(e){for(var t=null,n=0;n<this.instances.length;n++)this.instances[n].id==e&&(t=this.instances[n]);return t},n.dispatchEvent=function(e){var t=n.findById(e);return function(e){t.notifyEvent(null!==e.data?e.data:n.STATES.ready,t.video)}},n.STATES={ready:"ready",unstarted:-1,ended:0,playing:1,paused:2,buffering:3,cued:5},e.onYouTubeIframeAPIReady=function(e,t){var i=n.findById(e);if(i.video=i.embed(),!t){var s=n.instances.slice();s.shift();for(var o=0;o<s.length;o++)s[o].video=n.findById(s[o].id).embed()}},typeof t===s&&(e.YoutubeIframePlayer=n),n});
